% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/collate.R
\name{collate_chamber_wp}
\alias{collate_chamber_wp}
\title{Collate Pressure Chamber Water Potential Data with Metadata}
\usage{
collate_chamber_wp(con = NULL, db_path = NULL, dataset_name = NULL)
}
\arguments{
\item{con}{A DBI database connection object. If NULL, will create a connection using db_path.}

\item{db_path}{Character string specifying the path to the DuckDB database file.
Only used if con is NULL. If both are NULL, an error is raised.}

\item{dataset_name}{Optional character vector of dataset names to filter results.
If NULL (default), returns data for all available datasets with pressure chamber data.}
}
\value{
A data frame with pressure chamber measurements joined with complete metadata.
Includes a logical SFN column indicating SAPFLUXNET membership.
}
\description{
Joins pressure chamber water potential measurements with study site, treatment,
plot, and plant metadata. Includes treatment hierarchy logic to properly assign
treatments at different organizational levels. Optionally flags datasets that
are part of the SAPFLUXNET network.
}
\examples{
\dontrun{
# Using database path
chamber_data <- collate_chamber_wp(db_path = "psinet.duckdb")

# Using existing connection
con <- DBI::dbConnect(duckdb::duckdb(), "psinet.duckdb")
chamber_data <- collate_chamber_wp(con = con)
DBI::dbDisconnect(con, shutdown = TRUE)

# Filter to specific datasets
chamber_data <- collate_chamber_wp(
  db_path = "psinet.duckdb",
  dataset_name = c("Smith_1", "Jones_2")
)
}
}
